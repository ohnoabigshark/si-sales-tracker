  <!DOCTYPE html>
  <html>
  <head>
    <meta charset="utf-8">
    <title>SWEET IDEA ORDER</title>
    <script type="text/javascript">
    var priceList = [5,5,3.5,2.5,2.5];
    var productList = ['sn5','cc5','sns','cc2','sn2'];

    function showMap(position) {
      // Show a map centered at (position.coords.latitude, position.coords.longitude).
    document.getElementById("latitude").value = position.coords.latitude;                
    document.getElementById("longitude").value = position.coords.longitude;
    }

function computePrice() {
    var price = 0;
    for(var i = 0; i < priceList.length; i++ ) {
        price += document.getElementById(productList[i]).value*priceList[i];
    }
    document.getElementById("price").innerHTML = price;
    document.getElementById("hidden_price").value = price;
}

function createOption ( value, name ) {
    var option = document.createElement('option');
    option.setAttribute('value',value);
    option.appendChild(document.createTextNode(name));
    return option;
}

function createLabel ( name ) {
    var label = document.createElement('label');
    label.setAttribute('for',name);
    label.appendChild(document.createTextNode(name));
    return label;
}

function createButton ( shortName ) {
        var select = document.createElement('select');
        select.setAttribute('name',shortName);
        select.setAttribute('id',shortName);
        select.setAttribute('style','width: 80px; height: 50px;');
        for(var i = 0; i <= 10; i++){
            select.appendChild(createOption(i,i));
        }
        return select;
}

function submitForm ( ) {
    if (navigator.geolocation) 
    {
        navigator.geolocation.getCurrentPosition( showMap );
    }
    document.getElementById("order").submit();
}

function init() {

    var main = document.getElementById("main");
    for ( product in productList ) {
        main.appendChild(createLabel(productList[product]))
        main.appendChild(createButton(productList[product]));
        document.getElementById(productList[product]).addEventListener("change",computePrice);
    }

    if (navigator.geolocation) 
    {
        navigator.geolocation.getCurrentPosition( showMap );
    }
    document.getElementById("submitButton").addEventListener("click",submitForm);

}

   </script>
  </head>
  <body onload="init();">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
    <script src="http://ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js"></script>
    <script src="http://ajax.cdnjs.com/ajax/libs/underscore.js/1.1.6/underscore-min.js"></script>
    <script src="http://ajax.cdnjs.com/ajax/libs/backbone.js/0.3.3/backbone-min.js"></script>

    

    <p>
    <form id="order" method="POST" action="order.php">
<div id="main">

</div>
<div style="margin-top: 40px;">
    <input  type="radio" name="payment_type" id="cash" value="cash"><label style="border: 1px solid black; padding: 20px;" for="cash">cash</label>
    <input  type="radio" name="payment_type" id="credit" value="credit"><label style="border: 1px solid black; padding: 20px;" for="credit">credit</label>
</div>
<div style="margin-top: 40px;">$<span id="price"></span></div>
<input type="hidden" id="hidden_price" name="price">
<input type="text" id="latitude" name="latitude">
<input type="text" id="longitude" name="longitude"><br>
<input style="width: 80px; height: 50px;" type="button" id="submitButton" VALUE="boom" title="BOOM">​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​
    </form>
  </body>
  </html>